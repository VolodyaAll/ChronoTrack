# План разработки ChronoTrack

## Описание проекта
Мобильное приложение для отслеживания времени с настраиваемым виджетом. Пользователи могут отслеживать различные виды деятельности с помощью цветных иконок, просматривать статистику и историю активностей.

## Основные функции
- [ ] Виджет с цветными иконками для различных активностей
- [x] ~~Предустановленные активности (Работа, Сон, Хобби, Семья, Спорт)~~ (Решено убрать разделение на предустановленные/пользовательские)
- [x] Возможность добавления и редактирования пользовательских активностей
- [x] Автоматическое отслеживание времени при переключении активности
- [x] Временная шкала всех активностей
- [ ] Статистика в виде графиков (день/неделя/месяц)
- [x] Процентное соотношение времени на различные активности

## Итерации разработки

### Итерация 1: Базовая настройка проекта и стартовый UI
- [x] Создание нового проекта на Kotlin
- [x] Настройка зависимостей в build.gradle:
  - [x] Room для базы данных
  - [x] MPAndroidChart для графиков
  - [x] ViewModel и LiveData
  - [x] Coroutines для асинхронных операций
- [x] Создание базовой структуры проекта:
  - [x] Пакет data для моделей данных
  - [x] Пакет ui для активностей и фрагментов
  - [x] Пакет viewmodel для VM классов
  - [x] Пакет repository для работы с данными
- [x] Реализация основной активности (MainActivity)
- [x] Создание базового макета виджета

### Итерация 2: Реализация предустановленных активностей
- [x] Создание модели данных Activity:
  - [x] ID
  - [x] Название
  - [x] Цвет
  - [x] Иконка
  - [x] ~~Тип (предустановленная/пользовательская)~~ (Удалено)
- [x] Реализация базы данных Room:
  - [x] DAO для Activity
  - [x] Миграции
- [x] Создание репозитория для работы с активностями
- [x] Реализация ViewModel для управления активностями
- [x] Базовый UI для отображения списка активностей
- [x] Логика переключения между активностями

### Итерация 3: Пользовательские активности
- [x] UI для добавления/редактирования активности:
  - [x] Форма ввода данных
  - [x] Выбор цвета
  - [x] Выбор иконки
- [x] Валидация введенных данных
- [x] Сохранение пользовательских активностей в БД
- [x] Обновление виджета при добавлении новой активности
- [x] Возможность удаления пользовательских активностей

### Итерация 4: Трекинг времени и история
- [x] Создание модели TimeEntry:
  - [x] ID активности
  - [x] Время начала
  - [x] Время окончания
  - [x] Длительность
- [x] Реализация сервиса для отслеживания времени
- [x] DAO для TimeEntry
- [x] Репозиторий для работы с временными записями
- [x] UI для отображения временной шкалы:
  - [x] Список записей по дням
  - [x] Фильтрация по датам
  - [x] Группировка по активностям

### Итерация 5: Статистика и графики
- [x] Создание UI для отображения статистики:
  - [x] Дневной вид
  - [x] Выбор произвольного периода
- [x] Реализация расчетов статистики:
  - [x] Общее время по активностям
  - [x] Процентное соотношение
- [x] Интеграция MPAndroidChart:
  - [x] Круговые диаграммы

### Итерация 6: Виджет и финальные доработки
- [ ] Улучшение UI/UX:
  - [ ] Анимации переходов
  - [ ] Цветовая схема
  - [ ] Иконки и графические элементы
- [ ] Оптимизация производительности
- [ ] Финальное тестирование
- [ ] Подготовка к релизу

## Технический стек
- Язык программирования: Kotlin
- Минимальная версия Android: API 24 (Android 7.0)
- Архитектура: MVVM
- База данных: Room
- Асинхронность: Coroutines
- Графики: MPAndroidChart
- Dependency Injection: Hilt

## Статус проекта
- Дата начала: [Текущая дата]
- Текущая итерация: 5
- Прогресс: 75% 